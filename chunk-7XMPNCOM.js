import{Ba as u,Ca as m,a as o,o as c,r as l}from"./chunk-HTKGOQCI.js";var s={production:!1,apiKey:"AIzaSyDWsKhi_G5QGsBNKcCpXmf7ARoU19ues2M",videosUrl:"https://www.googleapis.com/youtube/v3",channelUrl:"https://www.googleapis.com/youtube/v3/channels"};var d=class e{constructor(t){this.http=t}apiKey=s.apiKey;apiUrl=s.videosUrl;channelUrl=s.channelUrl;params={part:"snippet,statistics,contentDetails",chart:"mostPopular",regionCode:"EG",maxResults:"20"};videoParams={part:"snippet,statistics,contentDetails"};getVideos(t){let i=o(o({},this.params),t?{pageToken:t}:{}),n=new u({fromObject:i});return this.http.get(`${this.apiUrl}/videos?key=${this.apiKey}`,{params:n})}getVideoById(t){return this.http.get(`${this.apiUrl}/videos?key=${this.apiKey}&id=${t}`,{params:this.videoParams})}getChannel(t){return this.http.get(`${this.channelUrl}?key=${this.apiKey}&id=${t}&part=brandingSettings`,{params:this.videoParams})}static \u0275fac=function(i){return new(i||e)(l(m))};static \u0275prov=c({token:e,factory:e.\u0275fac,providedIn:"root"})};function w(e){let t=new Date(e),n=(new Date().getTime()-t.getTime())/1e3,r={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60,second:1};for(let p in r){let a=Math.floor(n/r[p]);if(a>=1)return`${a} ${p}${a>1?"s":""} ago`}return"just now"}function x(e){let t=typeof e=="string"?parseInt(e):e;return t>=1e9?(t/1e9).toFixed(1).replace(/\.0$/,"")+"B views":t>=1e6?(t/1e6).toFixed(1).replace(/\.0$/,"")+"M views":t>=1e3?(t/1e3).toFixed(1).replace(/\.0$/,"")+"K views":t+" views"}function V(e,t){let i=t[0];return{videoDetails:{contentDetails:{duration:e.contentDetails.duration},statistics:{viewCount:e.statistics.viewCount,commentCount:e.statistics.commentCount,likeCount:e.statistics.likeCount,subscriberCount:i.statistics.subscriberCount},snippet:{thumbnails:e.snippet.thumbnails,channelId:e.snippet.channelId,title:e.snippet.title,channelTitle:e.snippet.channelTitle,publishedAt:e.snippet.publishedAt,description:e.snippet.description},id:e.id,brandingSettings:{image:{bannerExternalUrl:i.brandingSettings.image?.bannerExternalUrl??""}}},channelId:i.id,channelProfilePic:i.snippet.thumbnails.default?.url??""}}function I(e){let t=e.match(/PT(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?/),i=parseInt(t?.[1]||"0",10),n=parseInt(t?.[2]||"0",10),r=parseInt(t?.[3]||"0",10);return i>0?`${i}:${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`:`${n}:${r.toString().padStart(2,"0")}`}function C(e){if(e==null)return"N/A subscribers";let t=typeof e=="string"?parseInt(e):e;return isNaN(t)||t<0?"0 subscribers":t>=1e9?(t/1e9).toFixed(1).replace(/\.0$/,"")+"B subscribers":t>=1e6?(t/1e6).toFixed(1).replace(/\.0$/,"")+"M subscribers":t>=1e3?(t/1e3).toFixed(1).replace(/\.0$/,"")+"K subscribers":t+" subscribers"}export{d as a,w as b,x as c,V as d,I as e,C as f};
