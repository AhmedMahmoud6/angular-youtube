import{a as z,b as J,f as X,j as ee,k as te,l as ie,m as ne}from"./chunk-UUZ5WKJC.js";import{B as T,C as p,Fa as L,Ga as U,J as M,Ja as G,Ka as K,L as A,M as a,O as f,Oa as Q,Pa as W,Qa as Y,R as I,Ra as $,Sa as P,Ta as j,X as c,Y as r,Z as l,Za as Z,_ as s,e as C,fa as w,g as k,ha as g,ia as v,j as x,k as E,l as R,la as q,ma as V,n as D,na as O,o as N,qa as B,sa as S,ta as F,u as _,v as m,w as u,xa as H}from"./chunk-NLIL6CV2.js";var re=[{path:"",loadChildren:()=>import("./chunk-QCIKCQBM.js").then(n=>n.HOME_ROUTES)},{path:"video/:id",loadChildren:()=>import("./chunk-GNAK5ETD.js").then(n=>n.VIDEO_DETAILS_ROUTES)}];var oe={providers:[T(),H({eventCoalescing:!0}),$(re,P({scrollPositionRestoration:"enabled",anchorScrolling:"enabled"})),K()]};var ae=["searchInput"];function ce(n,t){if(n&1){let e=w();r(0,"li",20),g("click",function(){let o=m(e).$implicit,d=v(2);return u(d.onResultClick(o.id.videoId))}),r(1,"div",21),s(2,"fa-icon",4),r(3,"p"),S(4),l()(),r(5,"div",22),s(6,"img",23),l()()}if(n&2){let e=t.$implicit,i=t.index,o=v(2);B("selected",i===o.selectedIndex()),a(2),c("icon",o.faMagnifyingGlass),a(2),F(o.decodeHtml(e.snippet.title)),a(2),c("src",e.snippet.thumbnails.default.url,M)}}function pe(n,t){if(n&1&&(r(0,"ul",18),I(1,ce,7,5,"li",19),l()),n&2){let e=v();a(),c("ngForOf",e.queryResults())}}var h=class n{faBars=te;faMagnifyingGlass=J;faMicrophone=X;faAdd=ee;faBell=z;query=p("");q$=new C;queryResults=p([]);youtube=_(j);router=_(W);decodeHtml=Z;isToggled=p(!1);selectedIndex=p(-1);searchInput;ngOnInit(){this.q$.pipe(R(300),D(),x(t=>t.trim().length>0),N(t=>this.youtube.getSearchResults(t).pipe(E(e=>(console.error("search error",e),k({items:[]})))))).subscribe({next:t=>{this.queryResults.set(t.items)},error:t=>{console.error("unexpected error",t)}})}onDocumentClick(t){this.searchInput.nativeElement.contains(t.target)||this.isToggled.set(!1)}onInputClick(){this.query().length>0&&this.isToggled.set(!0)}onKeyDown(t){this.selectedIndex.set(-1);let e=t.target.value;if(this.query.set(e),e.trim()===""){this.isToggled.set(!1);return}console.log(e),this.q$.next(e),this.isToggled()||this.isToggled.set(!0)}onArrowKeys(t){if(t.key==="ArrowDown"){t.preventDefault();let e=this.selectedIndex(),i=e<this.queryResults().length-1?e+1:0;this.selectedIndex.set(i)}if(t.key==="ArrowUp"){t.preventDefault();let e=this.selectedIndex(),i=e>0?e-1:this.queryResults().length-1;this.selectedIndex.set(i)}t.key==="Enter"&&this.selectedIndex()!==-1&&(t.preventDefault(),this.onResultClick(this.queryResults()[this.selectedIndex()].id.videoId),this.isToggled.set(!1))}onResultClick(t){this.router.navigate(["/video",t])}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=f({type:n,selectors:[["app-navbar"]],viewQuery:function(e,i){if(e&1&&q(ae,5),e&2){let o;V(o=O())&&(i.searchInput=o.first)}},hostBindings:function(e,i){e&1&&g("click",function(d){return i.onDocumentClick(d)},A)},decls:24,vars:6,consts:[["searchInput",""],[1,"nav"],[1,"nav-left-side"],[1,"menu"],[3,"icon"],["routerLink","",1,"logo"],["src","https://upload.wikimedia.org/wikipedia/commons/0/0b/YouTube_2024_%28white_text%29.svg","alt","YouTube Logo"],[1,"nav-center"],[1,"search-parent"],["type","text","placeholder","Search",1,"search-input",3,"input","keydown","click"],[1,"search-icon"],["class","search-list",4,"ngIf"],[1,"voice"],[1,"nav-right-side"],[1,"create"],[1,"notification"],[1,"profile"],["src","https://lh3.googleusercontent.com/ogw/AF2bZyhcgXoCv3FWafVkRRnRDRmyupy6E8xwSrQJUq0fDtqSrA=s64-c-mo","alt","pfp"],[1,"search-list"],[3,"selected","click",4,"ngFor","ngForOf"],[3,"click"],[1,"list-left"],[1,"list-right"],["alt","video thumbnail",3,"src"]],template:function(e,i){if(e&1){let o=w();r(0,"div",1)(1,"div",2)(2,"div",3),s(3,"fa-icon",4),l(),r(4,"div",5),s(5,"img",6),l()(),r(6,"div",7)(7,"div",8)(8,"input",9,0),g("input",function(b){return m(o),u(i.onKeyDown(b))})("keydown",function(b){return m(o),u(i.onArrowKeys(b))})("click",function(){return m(o),u(i.onInputClick())}),l(),r(10,"div",10),s(11,"fa-icon",4),l(),I(12,pe,2,1,"ul",11),l(),r(13,"div",12),s(14,"fa-icon",4),l()(),r(15,"div",13)(16,"div",14),s(17,"fa-icon",4),r(18,"p"),S(19,"Create"),l()(),r(20,"div",15),s(21,"fa-icon",4),l(),r(22,"div",16),s(23,"img",17),l()()()}e&2&&(a(3),c("icon",i.faBars),a(8),c("icon",i.faMagnifyingGlass),a(),c("ngIf",i.isToggled()),a(2),c("icon",i.faMicrophone),a(3),c("icon",i.faAdd),a(4),c("icon",i.faBell))},dependencies:[ne,ie,Y,U,L],encapsulation:2})};var y=class n{title=p("youtube");static \u0275fac=function(e){return new(e||n)};static \u0275cmp=f({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(e,i){e&1&&s(0,"app-navbar")(1,"router-outlet")},dependencies:[Q,h],encapsulation:2})};G(y,oe).catch(n=>console.error(n));
