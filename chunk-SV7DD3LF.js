import{m as c,n as m,na as g,q as b,r as f,w as l,y as d,ya as h}from"./chunk-BUGPBLP4.js";var u={production:!1,apiKey:"AIzaSyDWsKhi_G5QGsBNKcCpXmf7ARoU19ues2M",videosUrl:"https://www.googleapis.com/youtube/v3",channelUrl:"https://www.googleapis.com/youtube/v3/channels"};var v=class t{constructor(e){this.http=e}apiKey=u.apiKey;apiUrl=u.videosUrl;channelUrl=u.channelUrl;params={part:"snippet,statistics,contentDetails",chart:"mostPopular",regionCode:"EG",maxResults:"10"};videoParams={part:"snippet,statistics,contentDetails"};getVideos(){return this.http.get(`${this.apiUrl}/videos?key=${this.apiKey}`,{params:this.params})}getVideoById(e){return this.http.get(`${this.apiUrl}/videos?key=${this.apiKey}&id=${e}`,{params:this.videoParams})}getChannel(e){return this.http.get(`${this.channelUrl}?key=${this.apiKey}&id=${e}&part=brandingSettings`,{params:this.videoParams})}static \u0275fac=function(n){return new(n||t)(b(h))};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})};function C(t){let e=new Date(t),a=(new Date().getTime()-e.getTime())/1e3,i={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60,second:1};for(let r in i){let s=Math.floor(a/i[r]);if(s>=1)return`${s} ${r}${s>1?"s":""} ago`}return"just now"}function S(t){let e=typeof t=="string"?parseInt(t):t;return e>=1e9?(e/1e9).toFixed(1).replace(/\.0$/,"")+"B views":e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M views":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"K views":e+" views"}function _(t,e){let n=e[0];return{videoDetails:{contentDetails:{duration:t.contentDetails.duration},statistics:{viewCount:t.statistics.viewCount,commentCount:t.statistics.commentCount,likeCount:t.statistics.likeCount,subscriberCount:n.statistics.subscriberCount},snippet:{thumbnails:t.snippet.thumbnails,channelId:t.snippet.channelId,title:t.snippet.title,channelTitle:t.snippet.channelTitle,publishedAt:t.snippet.publishedAt,description:t.snippet.description},id:t.id,brandingSettings:{image:{bannerExternalUrl:n.brandingSettings.image?.bannerExternalUrl??""}}},channelId:n.id,channelProfilePic:n.snippet.thumbnails.default?.url??""}}function $(t){let e=t.match(/PT(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?/),n=parseInt(e?.[1]||"0",10),a=parseInt(e?.[2]||"0",10),i=parseInt(e?.[3]||"0",10);return n>0?`${n}:${a.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`:`${a}:${i.toString().padStart(2,"0")}`}function j(t){if(t==null)return"N/A subscribers";let e=typeof t=="string"?parseInt(t):t;return isNaN(e)||e<0?"0 subscribers":e>=1e9?(e/1e9).toFixed(1).replace(/\.0$/,"")+"B subscribers":e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M subscribers":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"K subscribers":e+" subscribers"}function H(t,e){let a=!e?.manualCleanup?e?.injector?.get(l)??f(l):null,i=y(e?.equal),r;e?.requireSync?r=d({kind:0},{equal:i}):r=d({kind:1,value:e?.initialValue},{equal:i});let s,p=t.subscribe({next:o=>r.set({kind:1,value:o}),error:o=>{r.set({kind:2,error:o}),s?.()},complete:()=>{s?.()}});if(e?.requireSync&&r().kind===0)throw new c(601,!1);return s=a?.onDestroy(p.unsubscribe.bind(p)),g(()=>{let o=r();switch(o.kind){case 1:return o.value;case 2:throw o.error;case 0:throw new c(601,!1)}},{equal:e?.equal})}function y(t=Object.is){return(e,n)=>e.kind===1&&n.kind===1&&t(e.value,n.value)}export{v as a,C as b,S as c,_ as d,$ as e,j as f,H as g};
